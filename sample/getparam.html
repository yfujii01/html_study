<html>

<head>
    <title>パラメータ受信サンプル</title>
</head>

<body onload="dispParam()">
    <div>これはget parameterを取得するサンプルページです</div>
    <hr>
    <div><a href="/">インデックスページへのリンク</a></div>
    <div><a href="sendparam.html">パラメータ送信画面に戻る</a></div>
    <hr>

    <div>あなたが送信したパラメータは</div>
    <hr>
    ID<div id='disp_txt'></div>
    <hr>
    PWD<div id='disp_pwd'></div>
    <hr>
    CHECK BOX<div id='disp_chk'></div>
    <hr>
    RADIO<div id='disp_radio'></div>
    <hr>
    TEXT AREA<div id='disp_area'></div>
    <hr>
    <div>ですね</div>
</body>

</html>

<script>
    function dispParam() {
        document.querySelector("#disp_txt").innerText = getParam('hoge_txt');
        document.querySelector("#disp_pwd").innerText = getParam('hoge_pwd');
        document.querySelector("#disp_chk").innerText = getParam('hoge_chk');
        document.querySelector("#disp_radio").innerText = getParam('hoge_radio');
        document.querySelector("#disp_area").innerText = getParam('hoge_area');
    }

    function getParam(name) {
        let url = window.location.href;

        console.log('name = ' + name);
        let name2 = name.replace(/[\[\]]/g, "\\$&");
        console.log('name2 = ' + name2);
        let regex = new RegExp("[?&]" + name2 + "(=([^&#]*)|&|#|$)");
        console.log('regex = ' + regex);
        let results = regex.exec(url);
        console.log('results = ' + results);
        if (!results) {
            return null;
        }
        if (!results[2]) {
            return '';
        }
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
</script>
